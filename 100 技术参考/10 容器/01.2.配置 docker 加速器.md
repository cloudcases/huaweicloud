## 配置 docker 加速器

命令：

```bash
 vi /etc/docker/daemon.json
```

```
{"registry-mirrors": ["http://9c7eafcc.m.daocloud.io","http://18817714.m.daocloud.io"]}

{"registry-mirrors": ["http://9c7eafcc.m.daocloud.io","http://18817714.m.daocloud.io","https://registry.docker-cn.com"]}
```

```bash
cat < /etc/docker/daemon.json

{"registry-mirrors": ["http://9c7eafcc.m.daocloud.io","http://18817714.m.daocloud.io","https://registry.docker-cn.com"]}

EOF
```

```bash
cat /etc/docker/daemon.json
{"registry-mirrors": ["https://docker.mirrors.ustc.edu.cn", "hub-mirror.c.163.com"],  "max-concurrent-downloads": 10 }
```



## [**Docker 国内仓库和镜像** ](https://www.cnblogs.com/wushuaishuai/p/9984228.html)

**目录**

- 1. 国内 Docker 仓库

- 2. 国外 Docker 仓库

- 3. 配置 Docker 镜像加速

- - 3-1. 国内加速站点
  - 3-2. 使用命令来配置加速站点
  - 3-3. 使用脚本来配置加速站点
  - 3-4. 通过修改启动脚本配置加速站点

- 4. 参考资料

 

由于网络原因，我们在pull Image 的时候，从Docker Hub上下载会很慢。。。所以，国内的Docker爱好者们就添加了一些国内的镜像（mirror）,方便大家使用。

### **1. 国内 Docker 仓库**

[阿里云](https://dev.aliyun.com/search.html)

[网易云](https://c.163yun.com/hub#/m/home/)

[时速云](https://hub.tenxcloud.com/)

[DaoCloud](https://hub.daocloud.io/)

[回到顶部](https://www.cnblogs.com/wushuaishuai/p/9984228.html#_labelTop)

### **2. 国外 Docker 仓库**

[Docker Hub](https://hub.docker.com/)

[Quay](https://quay.io/)

[回到顶部](https://www.cnblogs.com/wushuaishuai/p/9984228.html#_labelTop)

### **3. 配置 Docker 镜像加速**

#### **3-1. 国内加速站点**

[https://registry.docker-cn.com](https://registry.docker-cn.com/)

[http://hub-mirror.c.163.com](http://hub-mirror.c.163.com/)

[https://3laho3y3.mirror.aliyuncs.com](https://3laho3y3.mirror.aliyuncs.com/)

[http://f1361db2.m.daocloud.io](http://f1361db2.m.daocloud.io/)

[https://mirror.ccs.tencentyun.com](https://mirror.ccs.tencentyun.com/)

#### **3-2. 使用命令来配置加速站点**

```bash
mkdir -p /etc/docker 
sudo tee /etc/docker/daemon.json <<-'EOF' {  "registry-mirrors": ["<your accelerate address>"] }         
```

#### **3-3. 使用脚本来配置加速站点**

该脚本可以将 --registry-mirror 加入到你的 Docker 配置文件 /etc/docker/daemon.json 中。

适用于 Ubuntu14.04、Debian、CentOS6 、CentOS7、Fedora、Arch Linux、openSUSE Leap 42.1，其他版本可能有细微不同。更多详情请访问文档。

```bash
curl -sSL https://raw.githubusercontent.com/wss434631143/xiaoshujiang/master/articles/Docker/shell/set_mirror.sh | sh -s <your accelerate address>       
```

#### **3-4. 通过修改启动脚本配置加速站点**

```bash
# 直接修改 /usr/lib/systemd/system/docker.service 启动脚本 
vim /usr/lib/systemd/system/docker.service  

# 在dockerd后面加参数 
ExecStart=/usr/bin/dockerd --registry-mirror=<your accelerate address>     
```

**以上操作后重启一下 Docker**

```bash
sudo systemctl daemon-reload 

sudo systemctl restart docker  
```

​             

### **4. 参考资料**

国内 docker 仓库镜像对比https://ieevee.com/tech/2016/09/28/docker-mirror.html

查找最快的docker镜像https://github.com/silenceshell/docker_mirror

Docker - 配置国内加速器加速镜像下载。 - TonyZhang24 - 博客园https://www.cnblogs.com/atuotuo/p/6264800.html

DaoCloud – 企业级云计算领域的创新领导者https://www.daocloud.io/mirror#accelerator-doc

tee命令_Linux tee 命令用法详解：把数据重定向到给定文件和屏幕上http://man.linuxde.net/tee