## docker学习笔记1：docke环境的查看

### 一、环境检查

当登录一个安装了docker的机器后，首先我们要检查下docker环境如何。

#### 1、命令

```bash
$ docker -v  
```

上述命令返回安装的docker的版本信息，返回的信息可能如下：

```
Docker version 1.9.1, build a34a1d5
```

说明：执行这个命令不需要docker守护进程已经启动，但其它docker命令基本上都需要docker守护进程已经启动。

#### 2、命令

```bash
$ docker  version   
```

上述命令返回安装的docker的版本详细信息，分客户端和服务器。如：

```
Client:
 Version:      1.9.1
 API version:  1.21
 Go version:   go1.4.3
 Git commit:   a34a1d5
 Built:        Fri Nov 20 17:56:04 UTC 2015
 OS/Arch:      linux/amd64

Server:
 Version:      1.9.1
 API version:  1.21
 Go version:   go1.4.3
 Git commit:   a34a1d5
 Built:        Fri Nov 20 17:56:04 UTC 2015
 OS/Arch:      linux/amd64
```

说明：执行这个命令时，如果docker守护进程没有启动，则只会返回client的信息。server信息不会显示，会提示无法连接到docker daemon。

#### 3、查看docker守护进程的状态

命令：

```bash
$ sudo status docker  
```

如果docker守护进程已经启动，则可能显示的信息如下：

docker start/running, process 1491

否则，可能显示的信息如  docker stop/waiting

#### 4、启动/停止docker守护进程服务

```bash
启动: $ sudo start docker

停止：$ sudo stop docker
```

#### 5、查看docker环境的信息

命令:

```bash
$ docker info 
```

执行该命令，前提需要docker守护进程已经启动。如果一切正常，会返回如下的信息（这里只提供前面一部分）

```
Containers: 1
Images: 4
Server Version: 1.9.1
Storage Driver: aufs
 Root Dir: /var/lib/docker/aufs
 Backing Filesystem: extfs
 Dirs: 6
 Dirperm1 Supported: false
Execution Driver: native-0.2
Logging Driver: json-file
Kernel Version: 3.13.0-32-generic
Operating System: Ubuntu 14.04.1 LTS
```

### 二、查看docker主机上已有的docker镜像

命令：

```bash
$ docker images 
```

执行该命令，会列出主机上已经下载的docker镜像，信息如

```
REPOSITORY          TAG                 IMAGE ID            CREATED             VIRTUAL SIZE
ubuntu              latest              ce76de2e871b        7 days ago          188 MB
```

说明，本地镜像都保存在主机的 /var/lib/docker 目录下。

### 三、查看dokcer主机上已经创建的容器

命令： 

```bash
$ docker ps -a -q
```

说明 

-a表示列出所有容器（包括停止运行的容器），否则只会列出运行中的容器。 

-q表示只返回容器ID信息，其它容器信息（如状态、对应的镜像等）不显示。

```
CONTAINER ID    IMAGE    COMMAND        CREATED     STATUS                    PORTS     NAMES
3d72d0283dc8    ubuntu   "/bin/bash"    4 days ago  Exited(130) 4 days ago           stupefied_kare
```



[Docker常用命令-chengxuyonghu-ChinaUnix博客](http://blog.chinaunix.net/uid-29792372-id-5758159.html)
