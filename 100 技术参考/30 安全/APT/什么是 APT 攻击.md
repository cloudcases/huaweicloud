# 什么是 APT 攻击？

被浏览

**240,101**

[八分量](https://www.zhihu.com/org/ba-fen-liang)(https://www.zhihu.com/question/48510028)

近几年，APT攻击呈高发态势，无论是攻击组织数量，还是攻击频率都较以往有较大增加。许多攻击组织更是假借疫情之名对相关目标肆意进行攻击。无法预知，在这些已被发现的攻击背后，是否还存在着更高级、更隐蔽的威胁。但不可否认的是，在这场APT阻击战中，很难有人可以独善其身。

## 一、什么是APT攻击？

APT（Advanced Persistent Threat）攻击，即**高级可持续威胁攻击**,也称为**定向威胁攻击**。指**某组织对特定对象展开的持续有效的攻击活动**。这是一个**集合了多种常见攻击方式的综合攻击**，不仅包括传统的网络攻击技术，也会结合一些[社会工程学](https://www.zhihu.com/search?q=社会工程学&search_source=Entity&hybrid_search_source=Entity&hybrid_search_extra={"sourceType"%3A"answer"%2C"sourceId"%3A2553818583})手段，通过人的弱点结合漏洞进行尝试攻击。相较于传统攻击，**APT攻击最大的威胁是隐蔽性、针对性和持续性**。

**隐蔽性**

APT攻击根据目标的特点，能**绕过目标所在网络的防御系统，极其隐藏地盗取数据或进行破坏**。在信息收集阶段，攻击者常利用[搜索引擎](https://www.zhihu.com/search?q=搜索引擎&search_source=Entity&hybrid_search_source=Entity&hybrid_search_extra={"sourceType"%3A"answer"%2C"sourceId"%3A2553818583})、高级爬虫和数据泄漏等持续渗透，使被攻击者很难察觉；在攻击阶段，基于对目标[嗅探](https://www.zhihu.com/search?q=嗅探&search_source=Entity&hybrid_search_source=Entity&hybrid_search_extra={"sourceType"%3A"answer"%2C"sourceId"%3A2553818583})的结果，设计开发极具针对性的木马等恶意软件，绕过目标网络防御系统，隐蔽攻击。

**针对性**

发动APT攻击的黑客目的往往**不是为了在短时间内获利，而是把“被控主机”当成跳板**，以此窃取国家机密信息和重要企业的核心商业信息、破坏网络基础设施等，具有强烈的政治、经济目的。所以这种APT攻击模式, 实质上是一种“**恶意商业间谍威胁**”。

**持续性**

为达到既定目标，需要通过持续监控和互动来实现攻击的针对性。另外，由于**这种攻击具有持续性甚至长达数年的特征**，这让企业的管理人员无从察觉。在此期间，**这种“持续性”体现在攻击者不断尝试的各种攻击手段，以及渗透到网络内部后长期蛰伏**。

## **二、APT攻击流程**

尽管每起APT攻击事件的目的、攻击目标不同，但是准备和实施APT攻击的过程有一个通用的过程，一般可以划分为四个阶段：

### **1、搜索阶段**

与传统网络攻击相比，**APT攻击在信息搜索的深度和广度上有明显区别**。

APT攻击的攻击者会花费大量的时间和精力用于搜索目标系统的相关信息。他们会了解企业的背景、公司文化、人员组织，还会收集目标系统的网络结构、业务系统、应用程序版本等信息。随后攻击者会制定周密的计划，识别有助于攻击目标达成的系统、人员信息，收集、开发或购买攻击工具，APT攻击可能会利用[特种木马](https://www.zhihu.com/search?q=特种木马&search_source=Entity&hybrid_search_source=Entity&hybrid_search_extra={"sourceType"%3A"answer"%2C"sourceId"%3A2553818583})、0DAY漏洞利用工具、口令猜测工具，以及其它渗透测试工具。

### **2、进入阶段**

攻击者会进行间断性的攻击尝试，直到找到突破口，控制企业内网的第一台计算机。

常见的方法如下：

①恶意文件：精心构造，并以邮件、IM软件等形式向内部员工发送携带恶意代码的PDF、Word文档;

②恶意链接：以邮件、IM软件等形式向内部员工发送携带恶意代码的URL链接，诱使员工点击;

③网站漏洞：利用网站系统的漏洞，例如SQL注入、文件上传、远程溢出等等，控制网站服务器作为跳板，对企业内部进行渗透、攻击;

④购买“肉鸡”：这是一种最便捷的攻击方式，即从地下黑市直接购买企业内部已经被其它黑客攻陷的计算机。

### **3、渗透阶段**

攻击者利用已经控制的计算机作为跳板，通过远程控制，对企业内网进行渗透，寻找有价值的数据，与进入阶段类似，本阶段一样会考验攻击者的耐心、技术、手段。

### **4、收获阶段**

攻击者会**构建一条隐蔽的数据传输通道，将已经获取的机密数据传送出来**。

其实本阶段的名字叫“收获阶段”，但却没有时间的限制，因为APT攻击的发起者与普通攻击者相比是极端贪婪的，只要不被发现，攻击行为往往不会停止，持续的尝试窃取新的敏感数据与机密信息。

## **三、遭受APT攻击的迹象**

虽然这种攻击具有极强的隐蔽能力，但还是有一些迹象可以帮助IT管理者及早发现异常状况，识别APT攻击。如下所示：

### **1、异常登录次数增加**

APT攻击会在短短几个小时内迅速从单台计算机升级到接管多台计算机或整个环境。他们了解哪些帐户具有提升的权限和权限，然后通过这些帐户来破坏环境中的资产。

通常，**在办公时间之外意外登录到服务器可能表明一项APT攻击正在发生**。攻击者可能在不同的时区工作，或者尝试在夜间工作，以减少发现其活动的机会。

### **2、广泛的后门木马**

**如果网络安全工具检测到的后门木马数量比平时多，则可能是由于APT攻击所致**。攻击者这样做是为了确保可以随时返回，即使受害者获得线索更改了登录凭据，他们也可以继续访问受感染的设备。

### **3、聚焦鱼叉式网络钓鱼活动**

查找包含只能由入侵者获取的文档的鱼叉式网络钓鱼电子邮件。这些电子邮件可能会被发送给高级管理人员，以便攻击者访问他们的电脑或受限制的数据。

### **4、无法解释的数据转换**

APT攻击经常将被盗数据汇总到内部收集点，然后再将其复制到网络中的另一个位置，并仅在确信无法检测到时才将其传输到网络之外。查找在不应该存在该数据的位置出现的大量（千兆字节，非兆字节）数据块，尤其是在**以公司通常不使用的存档格式压缩时**。

### **5、意外的信息流**

查找从内部始发点到其他内部计算机或外部计算机的大量意外[数据流](https://www.zhihu.com/search?q=数据流&search_source=Entity&hybrid_search_source=Entity&hybrid_search_extra={"sourceType"%3A"answer"%2C"sourceId"%3A2553818583})。它可以是服务器到服务器，服务器到客户端或网络到网络。

## **四、如何防御APT攻击？**

APT攻击中采用的各种关键技术相配合后能够有效直接的绕过传统的安全防御工具，如防火墙、入侵检测、安全网关、杀毒软件和反垃圾邮件等等。从这些具体的技术对抗中我们不难发现传统防护体系在面对APT攻击时的四个弱点：

1、未知攻击的检测能力严重不足

2.、对流量的深度分析能力不足

3、对终端的强效监管能力不足

4、对整体安全态势的管控手段不足

尤其要注意的是，在APT攻击与防御的一般过程中，**威胁检测贯穿始终，因为只有及时发现APT攻击，才能在第一时间阻止网络攻击事态的继续恶化，最大限度的减少或避免攻击事件造成的损失**。

如果当APT攻击事件真实发生之后，再通过经验丰富的安全研究人员对这些异常进行跟踪溯源分析，确认为APT攻击事件，届时再响应，为时已晚。**因为APT攻击非常容易造成重大损失，且往往与地域政治局势紧密关联**。

**那么如何从源头上加强自身APT防护能力？传统的防护方式是基于黑白名单策略。**

黑名单方式，运维人员需要持续不断地更新漏洞补丁，并叠加各种防护措施以增强安全性，通过穷尽现有漏洞补丁以及防护手段的方式来保障安全。但**对于未知威胁、暂无修补的0day漏洞等依然无法有效防护**。

[白名单](https://www.zhihu.com/search?q=白名单&search_source=Entity&hybrid_search_source=Entity&hybrid_search_extra={"sourceType"%3A"answer"%2C"sourceId"%3A2553818583})方式，只有那些被允许的程序以及操作才可以有效运行，通常由管理员手工定义白名单，但是不是足够安全，**不同服务器节点不同，所适用的白名单也不同**。因此每台服务器都应该有独立的白名单，这样黑客只能入侵到唯一的一台。**对于运维人员手动操作将带来庞大的工作量**。

八分量以可信计算技术为基础，结合机器学习技术，对所保护的企业信息系统进行持续分析，结合该服务器的运维策略，自动生成符合操作规范的系统进程白名单，一旦发现异常则能迅速发出告警信息，能够广泛应对0day未知威胁、APT攻击、用户管理权限被窃取等场景，结合基于进程级的用户行为与实体分析，能够较大程度上提升企业组织在应对潜在风险的能力。

近年来，随着移动互联网、物联网和云计算等技术的兴起，企业数字资产的价值不断提升。在全球APT攻击高发的严峻现状下，只有建立以安全技术与安全管理相结合的纵深防护体系，才能更好地抵御APT攻击。

**更多信息，欢迎关注** **[@八分量](https://www.zhihu.com/people/946a14d5b4a0cf1d2db559845453567d)**

[发布于 2022-07-01 14:59](https://www.zhihu.com/question/28881041/answer/2553818583)・IP 属地北京