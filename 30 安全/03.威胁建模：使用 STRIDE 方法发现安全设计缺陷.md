# 威胁建模：使用 STRIDE 方法发现安全设计缺陷

 young 发布于 2021-07-08 13:50:22

**本文目录：**

- [内容](http://doc.bigyoung.cn/blog-2.html#4wfv8i)
- [1 安全设计原则](http://doc.bigyoung.cn/blog-2.html#cbjjoo)
- [2 安全属性](http://doc.bigyoung.cn/blog-2.html#94agfp)
- [3 威胁和安全属性](http://doc.bigyoung.cn/blog-2.html#u1wch)
- [4 DFD 符号](http://doc.bigyoung.cn/blog-2.html#28ycu2)
- [5 影响元素的威胁](http://doc.bigyoung.cn/blog-2.html#cses2c)

> 作者：肖恩·赫尔南、斯科特·兰伯特、托马斯·奥斯特瓦尔德和亚当·肖斯塔克

**本文讨论：**

- 威胁建模的重要性
- 如何使用数据流图为系统建模
- 如何减轻威胁

**本文使用以下技术：** 

- STRIDE



## 内容

设计安全软件
威胁建模和 STRIDE
数据流图 将 STRIDE 应用到 Fabrikam Analyzer 数据库的
示例系统
分析
数据流和数据存储
分析过程
减轻威胁
发现威胁
攻击模式的表现
结论

无论您是在构建新系统还是更新现有系统，您都需要考虑入侵者可能会如何对其进行攻击，然后在系统的设计和实施阶段建立适当的防御措施。在 Microsoft，我们通过称为威胁建模的技术来设计安全系统 - 对系统设计或体系结构进行有条不紊的审查，以发现和纠正设计级别的安全问题。威胁建模是安全开发生命周期的一个组成部分。

威胁建模有多种方法，任何告诉您他的方法是唯一正确的方法的人都错了。没有任何成熟的方法来衡量威胁模型的质量，甚至术语“威胁”也可以解释。这当然是野兽的本性；即使在更成熟的密码学领域，许多流行的算法也没有被证明是安全的。但是，虽然我们不能经常证明给定的设计是安全的，但我们可以从错误中吸取教训并避免重蹈覆辙。这就是威胁建模的本质。

在本文中，我们将介绍一种由 Microsoft 安全工程和通信组开发的威胁建模的系统方法。与安全开发生命周期的其余部分一样，威胁建模不断发展并应用于新环境。当您创建自己的安全代码开发流程时，这种方法可能会很好地作为基准。

设计安全软件

设计好的软件已经够难的了，而安全性使它变得更加困难。在正常使用过程中可能会遇到也可能不会遇到系统中嵌入的缺陷。事实上，在普通使用下，一些缺陷并不重要。但在安全环境中，缺陷确实很重要，因为攻击者可以通过设置触发缺陷所需的高度特定的条件来诱发故障。可能只有十亿分之一的概率随机发生的事情可能会被认为无关紧要。但是，如果该缺陷具有安全隐患，您可以打赌攻击者会利用它。

设计安全软件的问题之一是不同的群体以不同的方式看待安全性。软件开发人员主要从代码质量的角度考虑安全性，而网络管理员则考虑防火墙、事件响应和系统管理。学术界可能主要从经典的 Saltzer 和 Schroeder 设计原则、安全模型或其他抽象概念来考虑安全性。当然，所有这些对于构建安全系统都很重要。有关Saltzer 和 Schroeder 设计原则的摘要，请参**见图 1**。但也许最大的问题是缺乏安全成功标准。如果我们想避免安全失败，这意味着我们必须对安全成功的样子有所了解。

## 图 1 安全设计原则

| 原则           | 解释                       |
| :------------- | :------------------------- |
| 开放式设计     | 假设攻击者有来源和规格。   |
| 故障安全默认值 | 失败关闭；没有单点故障。   |
| 最小特权       | 没有比需要更多的特权。     |
| 机制经济       | 保持简单，愚蠢。           |
| 权限分离       | 不允许基于单一条件的操作。 |
| 总调解         | 每次都检查一下。           |
| 最不常见的机制 | 小心共享资源。             |
| 心理接受度     | 他们会使用吗？             |

幸运的是，我们确实对安全的含义有所了解。这意味着系统具有机密性、完整性和可用性的特性，用户得到了正确的身份验证和授权，并且交易是不可否认的。**图 2**解释了每个属性。您希望您的系统具有所有这些属性，但没有完整性或可用性 API。你做什么工作？

## 图 2 安全属性

| 财产       | 描述                                               |
| :--------- | :------------------------------------------------- |
| 保密       | 数据仅对打算访问它的人可用。                       |
| 正直       | 数据和系统资源只能由适当的人以适当的方式进行更改。 |
| 可用性     | 系统在需要时准备就绪，并且性能令人满意。           |
| 验证       | 用户身份已建立（或者您愿意接受匿名用户）。         |
| 授权       | 明确允许或拒绝用户访问资源。                       |
| 不可否认性 | 用户无法执行操作，然后拒绝执行该操作。             |

威胁建模和 STRIDE

确保您的应用程序具有这些属性的一种方法是使用 STRIDE 进行威胁建模，STRIDE 是 Spoofing、Tampering、Repudiation、Information Disclosure、Denial of Service 和 Elevation of Privilege 的首字母缩写词。**图 3**将威胁映射到防御它们的属性。

## 图 3 威胁和安全属性

| 威胁     | 安全财产   |
| :------- | :--------- |
| 欺骗     | 验证       |
| 篡改     | 正直       |
| 否认     | 不可否认性 |
| 信息披露 | 保密       |
| 拒绝服务 | 可用性     |
| 特权提升 | 授权       |

要遵循 STRIDE，您需要将系统分解为相关组件，分析每个组件对威胁的敏感性，并缓解威胁。然后重复该过程，直到您对任何剩余威胁感到满意为止。如果你这样做——将你的系统分解成组件并减轻每个组件的所有威胁——你可以说系统是安全的。

现在，事情的真相是我们无法证明。我们还不能证明，单独免疫欺骗威胁的组件之间的交互在组合成一个系统时不易受到欺骗威胁的影响。事实上，只有当系统联合起来创建更大的系统时，威胁才会出现。在大多数情况下，将子系统组合成更大系统的行为本身就涉及违反子系统所做的原始假设。例如，如果系统从未设计为在 Internet 上使用，例如，当您将其暴露在 Internet 上时，就会出现新的安全问题。



在任何情况下，如果系统的任何组件容易受到欺骗威胁，您就不能说您的所有用户都经过了正确的身份验证，这是事实。

数据流图

数据流图 (DFD) 通常用于以图形方式表示系统，但您可以使用不同的表示方式（例如 UML 图），只要您应用相同的基本方法：将系统分解为多个部分并显示每个部分是不易受到相关威胁的影响。

DFD 使用由四个元素组成的标准符号集：数据流、数据存储、流程和交互者，对于威胁建模，我们再添加一个 - 信任边界。**图 4**显示了符号。数据流表示通过网络连接、命名管道、邮件槽、RPC 通道等移动的数据。数据存储代表文件、数据库、注册表项等。进程是计算机运行的计算或程序。

## 图 4 DFD 符号

| 物品     | 象征             |
| :------- | :--------------- |
| 数据流   | 单向箭头         |
| 数据存储 | 两条平行的水平线 |
| 过程     | 圆圈             |
| 多进程   | 两个同心圆       |
| 交互器   | 长方形           |
| 信任边界 | 虚线             |

交互者是系统的端点：人员、Web 服务和服务器。一般来说，它们是系统范围之外的数据提供者和消费者，但与它明显相关。

信任边界可能是最主观的：它们代表了可信和不可信元素之间的边界。信任是复杂的。你可能相信你的汽车修理工，你的牙医你的牙齿，你的银行家你的钱，但你可能不相信你的牙医会更换你的火花塞。



获得正确的 DFD 是获得正确威胁模型的关键。花足够的时间在你的身上，确保你系统的所有部分都有代表。您是否注意到您的应用程序涉及的所有文件和注册表项？您是否正在从环境中读取数据？



每个元素（流程、数据存储、数据流和交互者）都有一组容易受到的威胁，**如图 5 所示**。该图表与您的 DFD 一起为您提供了一个框架，用于调查您的系统可能如何失败。将调查工作分配给主题专家并建立检查清单以确保您不会两次犯同样的错误可能是一个好主意。例如，您可以让您的网络团队调查信息泄露威胁如何应用于您的网络数据流。他们将了解相关技术，并且非常适合从事与他们的应用程序部分相关的安全性研究。

## 图 5 影响元素的威胁

| 元素     | 欺骗 | 篡改 | 否认 | 信息披露 | 拒绝服务 | 特权提升 |
| :------- | :--- | :--- | :--- | :------- | :------- | :------- |
| 数据流   |      | X    |      | X        | X        |          |
| 数据存储 |      | X    |      | X        | X        |          |
| 流程     | X    | X    | X    | X        | X        | X        |
| 交互器   | X    |      | X    |          |          |          |

示例系统

假设您需要一个系统来收集销售人员的会计文件、计算数据库服务器上的销售数据并生成每周报告。我们将该系统称为 Fabrikam 分析器数据库。目标相当简单：从一组系统中获取文件并在中央服务器上对文件进行一些分析。这是客户所说的业务目标，但您需要将问题陈述转化为规范和计划。

这个系统存在许多明显的潜在威胁，其中许多来自问题陈述的隐含安全要求。仅收集过程就提出了许多问题。收集信息意味着将其从一个地方移动到另一个地方。您将如何在运输过程中确保其安全？

您将操纵会计文件，这些文件本质上是敏感的，并且经常受到法律要求的约束。并且您需要确定一个特定的人群——销售队伍。你将如何认识他们？问题陈述暗示了许多安全要求：

- 必须保护数据免于在传输和存储过程中无意泄露。
- 销售人员需要经过身份验证和授权。
- 应用程序必须优雅地响应依赖于恶意输入的攻击，例如 SQL 注入和缓冲区溢出。
- 服务器需要能够至少每周执行一次计算。

客户可能永远不会明确说明这些，因此设计人员必须找到问题陈述中固有的安全要求。

当然，还有许多不太明显的安全要求需要解决。如果服务器上的文件可以以销售人员隐藏可疑销售的方式被覆盖，会发生什么情况？如果一名销售人员可以为另一名销售人员的销售申请信用，会发生什么情况？

而“我们”究竟是谁？如果 Contoso Corporation 能够向 Fabrikam 销售团队伪装成 Fabrikam 服务器会怎样？请记住，攻击者不必遵守您的协议或使用您的工具来访问您的服务器；他会花比你想象的更多的时间来寻找缺陷，而且他很可能拥有大量的机器来执行复杂的计算。



此时，如果该组件是低风险系统，或者您在类似系统中拥有丰富的经验，您可能会决定离开并开始规划威胁缓解措施是合理的。没关系。但如果它是一个高风险组件呢？你怎么知道你不知道的？



如果您在此时停止，您的威胁模型不仅会受到您所知道的内容的限制，还会受到您在处理它时碰巧记住的内容的限制。您不仅必须像攻击者一样思考，还必须像所有攻击者一样思考。同时地。

将 STRIDE 应用于 Fabrikam Analyzer 数据库

现在，让我们尝试从问题陈述中创建数据流图。初始尝试可能**如图 6 所示**。在服务器端，有两个进程、两个数据存储和三个数据流。系统的服务器端和客户端之间有一个信任边界，每个客户端都有一个跨越信任边界的数据流。对于每个客户，都有一个销售人员、一个会计应用程序、会计数据和发送过程。

![null](https://docs.microsoft.com/zh-cn/archive/msdn-magazine/2006/november/images/cc163519.fig06.gif)

图 6** 分析器数据库的初始 DFD **

但这是正确的 DFD 吗？这是能够生成最完整威胁图的 DFD 吗？一些简单的经验法则表明它可能不是正确的。首先，有一个数据接收器。数据进入分析数据库，永远不会被读取。客户从未明确提及有关读取数据的任何内容，因为它与手头的问题无关。设计师可能会说“那部分问题超出了范围”。但从安全的角度来看，它根本没有超出范围。所以你需要以某种方式代表数据的读者。

以下是一些一般规则，用于了解您的 DFD 是否合理。首先，要小心神奇的数据源或接收器：数据不是凭空产生的。确保您有一个用户表示为每个数据存储的读取器或写入器。其次，当心作为数据传输的心理动力。换句话说，确保始终有一个进程可以读取和写入数据。它不会直接从用户的头部到磁盘，反之亦然。第三，出于建模目的，将单个信任边界内的相似元素折叠为单个元素。如果它们以相同的技术实现并且包含在相同的信任边界内，则您可能能够折叠它们。第四，在信任边界两侧建模细节时要小心。诱惑是同时对信任边界两侧的事物进行建模。拥有显示更多细节的上下文 DFD 和分组图是一种很好的做法。我们的系统确实在单个模型中同时表示客户端和服务器系统。但请记住，攻击者没有义务使用您的工具或尊重您的协议。

修改数据流图以考虑这些规则，**图 7 中**的 DFD可能是更好的表示。这里的变化是显着的。我们已将收集和分析流程合二为一。这并不一定意味着它们将一起实施——关键是不要只见树木不见森林。想想“主要功能”，而不是实现。

![null](https://docs.microsoft.com/zh-cn/archive/msdn-magazine/2006/november/images/cc163519.fig07.gif)

图 7** 更好的 DFD **

我们还将客户端表示为只不过是外部交互者，这是一个强大的变化。这反映了攻击者可以自由地做他或她选择的任何事情的事实。因此，我们将此威胁模型仅限于服务器端——一个完整的威胁模型将包括客户端系统的类似表示，将服务器显示为一组外部交互者。这就是信任边界的定义——你不信任另一边的东西。

现在我们可以用列表和表格来表示所有这些，并开始将大问题分解为一系列小问题。

分析数据流和数据存储

我们先来看看数据流。正如您在**图 6 中**看到的那样，共有三个。这些数据流中的每一个都会受到**图 3 中**列出的威胁。让我们看看每个进程是如何脆弱的。

数据流 1：销售到收款 在将销售数据传输到收款流程的情况下，篡改是可能的。换句话说，数据在通过 Internet 传输时可能会被修改，特别是如果数据来自处于各种安全设置的笔记本电脑。信息泄露是另一个风险。传输中的数据可能会被不应访问的人读取。



收集过程也可能成为拒绝服务攻击的受害者；攻击者可能会阻止销售人员访问收集服务器。（如果攻击者在一个季度的最后一天执行此操作，则可能对公司产生重大影响。）

数据流 2：销售系统列表到集合 销售系统列表集合存在类似的威胁。有人可以通过在销售人员列表中插入一个允许输入虚假数据的新系统来篡改数据。删除系统可能会阻止销售人员注册销售。（这可以建模为拒绝服务。我们称之为篡改。不要对术语太着迷。）

当您考虑对该数据流的威胁时，您可能会想到尚未识别销售人员的身份验证系统。不适当的身份验证系统会对销售人员构成欺骗威胁。确保威胁得到记录和解决。当您检查针对销售人员的欺骗威胁时，您也会遇到同样的威胁。一点点冗余是很好的。

销售人员名单可能对 Fabrikam 的竞争对手很感兴趣。如果裁员发生，内部人士也可能会感兴趣，因此信息威胁很大，需要解决。不要自满，因为您无法想象为什么有人会想要您的数据。你只需要假设有人会这样做。

根据 Fabrikam 的大小以及销售队伍的变化频率，拒绝服务可能不是很重要。在查看威胁时进行某种程度的风险分析是可以的（甚至是明智的）。但请记住，您离客户越远，就越难知道客户对不同风险的容忍度。不要对客户的情况或风险承受能力假设太多。

数据流 3：分析过程到分析存储 这里我们遇到了一个关于篡改的有趣情况。我们有一个完全包含在信任边界内的数据流。在这种情况下，核心安全理论家可能会说完全没有必要担心完全在信任边界内的进程——毕竟，你信任它们。

然而，另一方面，铁杆安全从业者可能会回答说任何事情都可能失败，这也没什么不同。我们对这两种观点都表示同情，并会从整体优先级的角度来解决这个问题。数据流 1 显然比数据流 3 暴露得更多，您检查数据流 1 所花费的精力应该反映更高的暴露程度。但数据流 3 并非完全没有风险。

例如，如果分析数据库存储在另一台机器上怎么办？所写的威胁模型似乎表明收集过程与数据库位于同一台机器上，但也许并非如此。也许建模者做出了错误的假设，或者尚未做出决定。

如果事实证明分析数据库存储在远程机器上，则数据流 4 很可能与数据流 1 具有相似的威胁特征。 最后，即使您可以依赖信任边界，也不要忘记这种情况改变。纵深防御可能是一项值得的投资。

信息泄露和拒绝服务也是这里的威胁。事实上，情况与篡改威胁相同。换句话说，信任边界是否可靠且正确地设置？如果不是，则需要考虑这些威胁。

现在让我们看看数据存储。

数据存储 1：分析数据库 该数据存储容易被篡改，尤其是因为尚未完全指定数据库中的内容。这是一个包含订单履行和销售人员奖金的销售数据库吗？它是产生销售预测的预测数据库吗？不同的数据类型会吸引不同的攻击者。请注意，攻击者可能是内部人员，而不是外部人员。他们可能具有对数据库的合法访问权限以完成他们的工作。

信息披露是一个日益严重的问题。如果 Fabrikam 以赊销方式接受消费者的销售订单，则数据库中可能有社会安全号码或信用卡号码。数据库中可能有竞争对手希望看到的专有信息。如果 Fabrikam 提供健康或医疗用品，则可能会受到 HIPAA 隐私限制。

拒绝服务也可能是一种威胁。谁使用这个数据库，为了什么？填充数据库是一种简单的攻击。当数据库已满时，常见的响应是停止为新请求提供服务或覆盖旧数据。拒绝服务攻击在阻止实现业务目标时最重要。

数据存储 2：销售系统列表 篡改在这里是一种威胁。攻击者可以添加可以恶作剧的销售人员或删除销售人员并阻止他们完成工作。信息泄露和拒绝服务也是可行的威胁。

数据存储 3：笔记本电脑 篡改笔记本电脑可能会导致攻击者窃取数据或访问控制花絮，例如密码、密钥或证书。攻击者可以安装间谍软件，让自己持续访问系统。这可能会将威胁模型引入其他项目，但如果您设计的系统无法合理管理，则可能会降低您的客户或用户的安全性。如果攻击者控制了笔记本电脑，则笔记本电脑上的所有信息都是公平游戏。同样，这里的威胁可能不仅仅涉及威胁模型的这一部分。

分析过程

一个伪装成收集过程（欺骗）的过程可以收集销售试图提交的所有数据。这会导致信息泄露和拒绝服务。有许多威胁，一旦意识到，可能会导致其他威胁。如果您可以冒充管理员，例如（欺骗），您可以关闭系统（拒绝服务威胁）。此外，如果攻击者篡改此处的数据并破坏或读取内存，他可能会导致拒绝或服务或特权提升。不过，不要太忙于追踪所有后续后果。

收集过程容易受到的否认是关于撒谎。否认威胁是指您可以采取行动并合理否认采取了行动。在这种情况下，否认威胁可能涉及，例如，提交覆盖现有数据的修订销售数据，并能够声称您没有这样做。

针对流程的信息泄露威胁可能很棘手——您通常认为这些威胁会影响数据流和数据存储。但是一个进程在内存中保存了大量有价值的数据。如果攻击者可以从进程的内存中读取数据，他可能不必闯入数据库。

同样，如果攻击者发现了有关程序内部结构的某些信息，则可以帮助他进行其他类型的攻击。允许入侵者发现某些变量（例如）的内存地址的信息泄露攻击可能是攻击过程中非常有价值的垫脚石。

拒绝服务和特权提升在这里也很有可能。内部人员和竞争对手可能有动机阻止数据的普通收集，这可以通过多种方式进行。例如，可以使收集过程运行他们编写的代码的攻击者可以欺骗、篡改或拒绝服务。收集过程可能会暴露在互联网上，适当的安全代码将非常重要。

您可以继续对 DFD 中的每个威胁和每个元素进行此类分析，直到您可以说您已经解决了针对所有数据流和数据存储的篡改、信息泄露和拒绝服务问题；针对所有进程的六个 STRIDE 威胁中的每一个；针对所有交互者的欺骗和否认威胁；以及影响您信任边界的独特威胁。这些都不能保证系统是安全的，但它肯定会帮助您晚上睡得更好。

减轻威胁

理想的情况是使用强大的、易于理解的解决方案来缓解威胁。例如，适当地使用强密码学被认为是应对多种信息泄露威胁的有力对策。您可能永远无法证明防御是完美的。但是，STRIDE 模型的优点之一是它可以让您深入了解所需缓解措施的性质。简单地根据可用技术重新构建**图 3**，您就可以了解需要采取何种缓解措施。然而，选择一项技术可能具有挑战性。总的来说，我发现问两个简单的问题会有所帮助：该技术是否可以用于缓解威胁，它是否真的会用于您所关注的场景中？

发现威胁的表现形式

既然你已经把大问题分解成小问题，你如何解决这些小问题？你有一些研究要做。您想为您将使用的技术找到以前的故障模式。例如，如果数据流将使用 TCP 上的远程过程调用 (RPC)，您不仅需要查找数据流中的一般故障类别，还需要查找 TCP 和 RPC 的特定已知故障。

了解威胁如何表现出来的一种极好的方法是使用Michael Howard 和 Steve Lipner（Microsoft Press®，2006 年）的*The Security Development Lifecycle 的*第 22 章，其中针对四个标准 DFD 元素中的每一个都针对 STRIDE 威胁开发了威胁树。例如，一个威胁树从一般意义上探讨了篡改可能如何针对数据流表现出来。树被呈现为使得树的叶节点暗示将实现威胁的攻击。这个想法是使用威胁树的叶节点作为引导问题——在某种程度上增强你之前所做的头脑风暴。

因此，例如，假设存在针对 Sales to Collection 数据流的篡改威胁。查看来自*The Security Development Lifecycle*的问题列表，第一个与篡改数据流相关的问题如下：数据流是否使用反重放防御（例如时间戳）进行防御（散列、MAC’d 或签名）还是柜台？

这表明了一种简单的攻击——重放有效消息——迄今为止在整个讨论中都被忽视了！并不是说这次攻击是新颖的或以前未知的。只是它在问题陈述中并不明显，即使是经验丰富的安全人员也很容易忽视这一点。

这种情况下攻击的影响是：如果销售人员可以两次提交一组销售数据怎么办？想象一下，Vishal 和 Eric 正在争夺夏威夷之旅。Eric 可能会想两次提交一组数据，以使他的销售数字看起来非常好并赢得这次旅行。

您可能认为会计系统会发现这一点，因为毕竟这是会计系统目的的一部分。但是你怎么知道？这毕竟只是一个报告系统，也许从该系统生成的数据从未与官方会计数据进行双重检查。

也许以某种方式减轻了攻击，也许不是。但是了解攻击是否可能发生并发现以前没有想到的攻击是威胁建模的主要目标的一部分。

鉴于这一新发现的威胁，您现在面临一项新任务：了解威胁是否已得到缓解。最后，像这样的调查可能的结果是文件被唯一标识为有效的随机数。现在您需要做出业务决策：您是否愿意接受风险，还是需要更强大的解决方案？

在 Microsoft 的许多情况下，使用预构建的威胁树已被证明是有效的，以确保不会忽视已知的攻击。随着新攻击的发现，威胁树本身可以通过这些新威胁进行扩充。这样，威胁树就可以形成一种制度知识。但请记住，它们本质上非常通用。有一整类攻击适用于一种技术而不是另一种技术。

例如，在数据流的情况下，您怎么知道 TCP 的安全属性与用户数据协议 (UDP) 的安全属性不同，并且初始序列号和窗口大小等因素在其中起作用？您的网络连接的安全性？如果您熟悉网络安全，您可能会认识到这些问题；如果没有，您在设计解决方案时可能会忽略这些问题。这就是攻击模式的用武之地。

攻击模式

攻击模式是在某些特定技术的上下文中一种或多种威胁的表现。例如，C 中的 strcpy 操作可能允许攻击者输入长数据字符串来破坏目标程序的内存，从而允许他执行他选择的代码。这就是缓冲区溢出如何造成特权提升威胁的原因。当然，攻击者也可能使用缓冲区溢出来做其他事情——例如篡改薪水数据。有时人们会用更正式的术语谈论攻击模式，将它们表示为一组先决条件和后置条件。但就我们这里的目的而言，它们是可以让攻击者意识到威胁的特定事物。

您可能熟悉也可能不熟悉这些类型的攻击，但实际上还有更多类型的攻击会影响特定环境中的特定技术，而且对此无能为力。您必须熟悉影响您的技术的攻击并建立适当的防御措施。

结论

设计安全软件可能很困难，但与任何挑战一样，一个好的策略是将问题分解为更容易解决的较小部分。对于高风险活动，我们认为有一个有组织的框架来这样做是有帮助的，使用带有威胁建模的 STRIDE 模型就是这样一种方法。我们已经在 Microsoft 的多个团队中使用了这种模型，并且结果很有希望——在几乎所有情况下，我们都发现了一个设计问题，而这个问题可能在很久以后才被注意到。一旦习惯了 STRIDE 模型的应用，它通常可以归结为正确使用 DFD、集思广益攻击和查看已知清单。这可以很快进行。

当您努力开发安全软件时，我们建议将威胁建模作为您流程的关键部分，特别是本文中介绍的 STRIDE 模型。但关键是找到一种适合您的方法，在您的设计早期应用它，记住任何组件都可能出现故障，并进行必要的研究以确保您已经考虑了已知的攻击模式。

最后，设计只是构建安全软件的一部分。执行支持、实施、测试、构建和交付以及服务和维护都在您系统的最终安全性方面发挥着至关重要的作用。你必须把它做好。

去哪里了解技术细节

对于许多常见攻击类型的出色概述，我们建议编写安全代码，第二版，作者为 Michael Howard 和 David LeBlanc（微软出版社，2002 年）。有关更多技术特定文本，请参阅：

- *使用 WS-Security 保护 Web 服务*，作者：Jothy Rosenberg 和 David Remy（SAMS，2004 年）。
- *SQL Server 安全性*，由 Chip Andrews（Osborne McGraw-Hill，2003 年）编写。
- *《C 和 C++ 中的安全编码》*，Robert Seacord 着（Addison Wesley，2005 年）。
- *构建安全的 Microsoft ASP.NET 应用程序*（微软出版社，2006 年）。
- *Microsoft Visual Basic .NET 的安全性*，作者：Ed Robinson 和 Michael James Bond（微软出版社，2003 年）。
- *软件漏洞指南*，作者：Herbert H. Thompson 和 Scott G. Chase（Charles River Media，2005 年）

最后，对于常见的安全相关缺陷列表，一个新兴资源是 Mitre 的[常见弱点枚举 (CWE) 项目](http://cve.mitre.org/)。

如果您经常使用任何技术，最好将这些技术的常见缺陷合并到您自己的威胁树或清单中。当然，您应该查看来自您自己的组织以及实施了类似技术的其他组织的当前和过去的安全建议。Microsoft 在[microsoft.com/security 上](http://microsoft.com/security)提供安全公告。值得注意的第三方包括：

- [CERT 协调中心](http://www.cert.org/)
- [安全焦点](http://www.securityfocus.com/)
- [山毛榉](http://www.secunia.com/)

如果您要添加竞争对手可能已经拥有的新功能，请研究他们的安全错误以及他们的成功。许多供应商和第三方免费提供安全公告。

**Shawn Hernan**是 Microsoft 的安全项目经理，目前致力于培训以帮助实现交付设计安全、默认安全和部署安全的软件的愿景。在加入微软之前，他是卡内基梅隆大学 CERT 协调中心的漏洞团队负责人。

**Scott Lambert**是 Microsoft 安全 Windows 计划 (SWI) 团队的安全项目经理。他负责增强内部安全工具，包括各种模糊测试工具。利用他的行业经验，Lambert 致力于确保 SWI 工具识别绝大多数漏洞类别。

**Tomasz Ostwald**目前在 Windows 安全计划团队担任安全项目经理，负责对 Microsoft 发布的产品进行最终安全审查。

**Adam Shostack**是 Microsoft 安全开发生命周期 (SDL) 团队的项目经理。他拥有 SDL 的威胁建模组件。

> 原文链接：https://docs.microsoft.com/zh-cn/archive/msdn-magazine/2006/november/uncover-security-design-flaws-using-the-stride-approach



上一篇 [安全开发生命周期-微软SDL的简化实施](http://doc.bigyoung.cn/blog-1.html)

下一篇 [安全资料汇总](http://doc.bigyoung.cn/blog-4.html)