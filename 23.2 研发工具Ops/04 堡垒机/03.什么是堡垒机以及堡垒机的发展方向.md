# 什么是堡垒机以及堡垒机的发展方向是怎样的

[![img](https://cdn2.jianshu.io/assets/default_avatar/10-e691107df16746d4a9f3fe9496fd1848.jpg)](https://www.jianshu.com/u/506a5373d544)

[张桐啊](https://www.jianshu.com/u/506a5373d544)关注

0.082020.05.20 20:12:31字数 1,989阅读 177

2019年12月1日，国家网络安全等级保护2.0制度（以下简称等保2.0）正式实施，这意味着在铁路、银行、海关、税务、民航、电力、证券、保险、外交、科技、国防、公安、财政、审计、商务、水利、能源、交通、文化、教育等行业，因为主管单位的明确要求，这些行业的信息系统均要开展安全等级保护工作，而堡垒机又是等保2.0中必不可少的工具手段，于是乎，堡垒机也从一个面向特定行业的、少数人知晓的概念，逐渐变得为广大IT从业人员所熟知。

本文将向各位读者普及一下堡垒机的基本概念，以及探讨一下未来堡垒机的发展方向。

**一、 什么是堡垒机**

堡垒机是一种非常形象的叫法，在国内，更直白、更易于理解的一种叫法是“合规运维与安全审计系统“，在国外，往往归类为”特权账号管理系统“。

**1.1 堡垒机是用来解决“运维混乱”的**

堡垒机到底是干什么的？简而言之一句话：堡垒机是用于解决“运维混乱”的。何谓运维混乱？当公司的IT运维人员越来越多，当需要管理的IT设备越来越多，当参与运维的岗位越来越多样性，如果没有一套好的机制，就会产生运维混乱。具体而言，你很想知道“哪些人允许以哪些账号访问哪些IT设备”而不可得。

![img](https://upload-images.jianshu.io/upload_images/16877399-3e9947c850ea4e0a?imageMogr2/auto-orient/strip|imageView2/2/w/640/format/webp)

IT运维混乱

**1.2 堡垒机让“运维混乱”变“运维有序”**

于是乎，堡垒机便诞生了，它承担起了运维人员在运维过程中的唯一入口，通过精细化授权，可以明确“哪些人以哪些身份访问哪些设备”，从而让运维混乱变得有序起来。在这种场景下，堡垒机更像是一种“跳板机“，换言之，IT运维人员并不会直接访问目标设备，而是通过堡垒机间接访问。

![img](https://upload-images.jianshu.io/upload_images/16877399-5d03b31568c3c15e?imageMogr2/auto-orient/strip|imageView2/2/w/640/format/webp)

堡垒机让运维混乱变得有序

**1.3 堡垒机让“运维混乱”变“运维安全”**

更重要的一点是：堡垒机不仅可以明确每一个运维人员的访问路径，还可以将每一次访问过程变得可“审计”，一旦出现问题，可追溯回源。

![img](https://upload-images.jianshu.io/upload_images/16877399-e1840a2794534bf2?imageMogr2/auto-orient/strip|imageView2/2/w/640/format/webp)

堡垒机的云端录像、全程审计

如何做到可审计？显而易见的方法是“全程录像”和“指令查询”。全程录像很好理解，那么何谓指令查询呢？所谓指令查询是指将运维操作指令化。举例而言，你家里在过去24小时内进小偷了，你有监控录像，但需要你翻阅这24小时的录像显然不是一个聪明的做法，如果这时系统能够帮助你把24小时录像中出现的所有人脸直接识别并罗列出来，你自然可以知道什么时间进来的小偷。“指令查询”也是如此，录像文件是你最后的保障，但通过指令查询可以帮助你快速的定位到录像文件的可疑位置。

为方便大家理解，我们以业界知名的堡垒机产品“行云管家堡垒机“为例，以下截图是其主机运维过程的云端录像与指令检索界面。

![img](https://upload-images.jianshu.io/upload_images/16877399-fac6e2b3a0c55db4?imageMogr2/auto-orient/strip|imageView2/2/w/640/format/webp)

示例：行云管家堡垒机针对Windows主机的审计录像与指令检索

![img](https://upload-images.jianshu.io/upload_images/16877399-9329b645a8042de7?imageMogr2/auto-orient/strip|imageView2/2/w/640/format/webp)

示例：行云管家堡垒机针对Linux主机的审计录像与指令检索

**二、 堡垒机的发展方向**

如前文所述，我们已经明白了什么是堡垒机，以及堡垒机主要的用途是什么，那么，堡垒机的发展方向是怎样的呢？回顾堡垒机的发展历程，我们可以将其划分为四个阶段：

![img](https://upload-images.jianshu.io/upload_images/16877399-db8c31626e0681a4?imageMogr2/auto-orient/strip|imageView2/2/w/640/format/webp)

堡垒机的四个阶段

**2.1 软硬一体化的堡垒机**

软硬一体化的堡垒机，顾名思义，是将堡垒机软件和硬件（往往是一U或者2U的物理主机）整合在一起，打包销售。这种做法优缺点都很分明，优点是符合国人的消费习惯，为用户提供一揽子解决方案；缺点是不易维护，缺乏可扩展性。

**2.2 纯软件的堡垒机**

从技术上来说，纯软件的堡垒机和软硬一体化的堡垒机并没有质的区别，无非是纯软件的堡垒机是以产品安装包或者镜像形式向用户提供安装介质，而不再是以物理主机形式提供。相比较而言，纯软件的堡垒机的优势更为明显，易于维护，易于升级，方便未来的扩展。

**2.3 云化的堡垒机**

随着云计算的发展，传统的堡垒机越来越不适应云的变化，因此，业界逐渐衍生发展出“云化的堡垒机“。这里的云化指代两层含义：其一，需要堡垒机纳管的IT设备对云计算有着更好的支持，包括支持统一纳管不同的公有云主机以及私有云主机等，同时，需要纳管的IT资产也不再仅仅只是主机资源，还包括云数据库、对象存储等PaaS资源；其二，堡垒机产品自身的体系架构也支持云原生特性，堡垒机自身可以直接部署在公有云环境，并能够充分利用云计算丰富的基础设施能力，举例而言，云化的堡垒机原生支持公有云的Load

Balance和Auto Scaling以获得高并发能力；通过将审计录像存储在公有云的对象存储Bucket之中以获得海量、廉价的存储能力等。

**2.4 服务化的堡垒机**

现阶段，随着云计算已经发展成为企业IT架构的基础支撑，云化的堡垒机已经成为业界的主流。如果眼光稍微放长远一些，未来的堡垒机将发展成怎样的形态？笔者认为，服务化的堡垒机将成为未来堡垒机的首选形态。

何谓服务化的堡垒机？我们不妨回顾一下云计算的起源。云计算的本质是服务化，无论是IaaS（Infrastructure as a Service）将IT的基础设施服务化，还是PaaS（Platform as a Service）将IT的平台能力服务化，其核心思想都是希望以服务的形式获取所需的资源。同样道理，针对堡垒机这一产品，用户的本质需求是“针对IT系统的合规运维与安全审计”，如果这种能力能够以服务的形式触手可及、随用随取，显然，这就是堡垒机终极发展形态。

**三、 有哪些可以推荐的堡垒机品牌**

笔者曾在多家互联网企业担任过运维总监，以笔者自己的使用体验及相关同事的介绍，笔者给出以下品牌建议。

![img](https://upload-images.jianshu.io/upload_images/16877399-93e5faa123e50298?imageMogr2/auto-orient/strip|imageView2/2/w/640/format/webp)

堡垒机品牌推荐

本文首发知乎，如需转载，请联系我进行授权，并在文章首尾明确标注文章来源，谢谢！

码字不易，尽管赞我。



https://www.jianshu.com/p/80dee40c9b8a